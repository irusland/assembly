Turbo Assembler	 Version 3.2	    02/16/21 15:03:02	    Page 1
mbr1.asm



      1	0000			     .model tiny
      2	0000			     .code
      3				     org 100h
      4	0100			     begin:
      5	0100  EB 3C			     jmp short _start
      6	0102  90			     nop
      7	0103  4D 42 52 2E 31 38	30+  operator	     db	'MBR.180K'
      8	      4B
      9				     ; BPB
     10	010B  0200		     BytesPerSec     dw	200h
     11	010D  01		     SectPerClust    db	1
     12	010E  0001		     RsvdSectors     dw	1
     13	0110  02		     NumFATs	     db	2
     14	0111  0040		     RootEntryCnt    dw	64	     ; 2 сектора на root dir
     15	0113  0168		     TotalSectors    dw	360
     16	0115  FC		     MediaByte	     db	0FCh	     ; 1 голова	9 секторов 40 цилиндров
     17	0116  0002		     FATsize	     dw	2	     ; 2 сектора на каждый FAT
     18	0118  0009		     SecPerTrk	     dw	9
     19	011A  0001		     NumHeads	     dw	1
     20	011C  0000 0000		     HidSec	     dw	0, 0
     21	0120  00000000		     TotSec32	     dd	0
     22	0124  00		     DrvNum	     db	0
     23	0125  00		     Reserved	     db	0
     24	0126  29		     Signatura	     db	')'	     ; 29h
     25				     ;
     26	0127  58 44 52 56	     Vol_ID	     db	'XDRV'
     27	012B  54 65 73 74 4D 42	52+  DiskLabel	     db	'TestMBRdisk'
     28	      64 69 73 6B
     29	0136  46 41 54 31 32 20	20+  FATtype	     db	'FAT12	 '
     30	      20
     31				     ;
     32	013E			     _start:
     33	013E  FC			     cld
     34	013F  B8 B800			     mov     ax, 0b800h
     35	0142  8E C0			     mov     es, ax
     36	0144  BF 0294			     mov     di, 660
     37	0147			     @@1:
     38	0147  32 E4			     xor     ah,ah
     39	0149  CD 16			     int     16h
     40	014B  B4 0F			     mov     ah, 0fh
     41	014D  AB			     stosw
     42	014E  EB F7			     jmp     @@1
     43				     org     766
     44	02FE  AA55		     dw	     0aa55h
     45				     end begin
Turbo Assembler	 Version 3.2	    02/16/21 15:03:02	    Page 2
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/16/21"
??FILENAME			  Text	 "mbr1	  "
??TIME				  Text	 "15:03:02"
??VERSION			  Number 0314
@32BIT				  Text	 0
@@1				  Near	 DGROUP:0147
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 MBR1
@INTERFACE			  Text	 00H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
BEGIN				  Near	 DGROUP:0100
BYTESPERSEC			  Word	 DGROUP:010B
DISKLABEL			  Byte	 DGROUP:012B
DRVNUM				  Byte	 DGROUP:0124
FATSIZE				  Word	 DGROUP:0116
FATTYPE				  Byte	 DGROUP:0136
HIDSEC				  Word	 DGROUP:011C
MEDIABYTE			  Byte	 DGROUP:0115
NUMFATS				  Byte	 DGROUP:0110
NUMHEADS			  Word	 DGROUP:011A
OPERATOR			  Byte	 DGROUP:0103
RESERVED			  Byte	 DGROUP:0125
ROOTENTRYCNT			  Word	 DGROUP:0111
RSVDSECTORS			  Word	 DGROUP:010E
SECPERTRK			  Word	 DGROUP:0118
SECTPERCLUST			  Byte	 DGROUP:010D
SIGNATURA			  Byte	 DGROUP:0126
TOTALSECTORS			  Word	 DGROUP:0113
TOTSEC32			  Dword	 DGROUP:0120
VOL_ID				  Byte	 DGROUP:0127
_START				  Near	 DGROUP:013E

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  0300 Word	  Public  CODE
